{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<head>
    {% if user.is_authenticated %}
        <meta http-equiv="refresh" content="2; url={% url 'accounts:profile-view' %}">
    {% endif %}
    <title>{% block title %}| Login{% endblock title %}</title>
    <style>
        /* for input styles */
        :focus{outline: none;}

        .bs-form-container{
            position: relative;
        }
        .form-effect{
            border: 0;
            border-bottom: 2px solid #ccc;
            text-align: center;
            width: 100%;
            padding: 7px 0;
            letter-spacing: 2px;
            word-spacing: 2px;
        }
       .form-effect:focus{
           border-bottom: 2px solid aquamarine;
       }
    </style>
</head>

<body class="">
    {% if not user.is_authenticated %}
    <div class="container mt-5 text-center">
        <h5 class="text-secondary">Welcome to Easp-Pay enter your number and password to continue.</h5>
        <div class="card p-4 mt-3" style="max-width: 100%;">
            <div class="row justify-content-center">
                <div class="col-md-5 col-sm-8 pt-4">
                    <form method="post">
                        {% csrf_token %}
                        <input type="number" name="phone_number" id="id_phone_number" placeholder="mobile number" required autofocus class="form-effect">

                        <input type="password" name="password" id="id_phone_number" placeholder="password" required autofocus class="form-effect">
                        <!-- {{ form|crispy }} -->
                        <br />
                        <br />
                        <a href="/" class="btn btn-outline-primary btn-sm">Home</a>
                        <button type="submit" class="btn btn-outline-primary btn-sm" name="register">Login</button>
                        <p>Don't have existing account <a href="{% url 'accounts:signup' %}"><i>signup</i></a> here.</p>
                    </form>
                </div>
            </div>
        </div>
    </div>
    {% else %}
        <div class="alert alert-info p-5 mt-5 text-capitalize text-center">
            {{ request.user.username }} You are logged in.
            <span class="spinner spinner-grow spinner-grow-sm text-secondary"></span>
            <span class="spinner spinner-grow spinner-grow-sm text-info"></span>
            <span class="spinner spinner-grow spinner-grow-sm text-warning"></span>
        </div>
    {% endif %}
</body>

{% endblock content %}